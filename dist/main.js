(()=>{const e=document.getElementById("searchBar"),t=document.getElementById("searchBtn"),o=document.querySelector(".display-name"),n=document.querySelector(".main-description"),a=document.querySelector(".main-temp"),c=document.querySelector(".main-feels-like"),s=document.querySelectorAll(".time"),i=document.querySelectorAll(".weather-box");t.addEventListener("click",(()=>{(async e=>{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=4b120dd6457a187cd29b1725c8ef4ebf`,{mode:"cors"}),r=await t.json(),l=(e=>{const t={name:e.name,country:e.sys.country,description:e.weather[0].description,feelsLike:e.main.feels_like,temperature:e.main.temp};return console.log(t),t})(r),d=await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${r.coord.lat}&lon=${r.coord.lon}&appid=4b120dd6457a187cd29b1725c8ef4ebf`,{mode:"cors"}),m=await d.json(),p=(e=>{const t=[];for(let o=0;o<5;o+=1)t[o]={},t[o].temp=Math.round(e.list[o].main.temp-273),t[o].feelsLike=e.list[o].main.feels_like,t[o].description=e.list[o].weather[0].main;return console.log(t),t})(m);((e,t)=>{const r=new Date,l=new Date;console.log(r.getTime()),s.forEach(((e,t)=>{const o=3600*t*1e3;l.setTime(r.getTime()+o),e.textContent=`${l.getHours()}:${l.getMinutes()}`})),n.textContent=e.description.charAt(0).toUpperCase()+e.description.slice(1),a.textContent=`${Math.round(e.temperature-273)}° C`,c.textContent=`Feels Like ${Math.round(e.feelsLike-273)}° C`,o.textContent=`${e.name}, ${e.country}`,i.forEach(((e,o)=>{e.textContent=`${t[o].temp}° C ${t[0].description}`})),"Clear"===t[0].description?i.forEach(((e,t)=>{const o=document.createElement("img");o.src="/dist/Images/Sun.jpg",o.classList.add("box-image"),e.appendChild(o),console.log(t)})):"Rain"===t[0].description?i.forEach(((e,t)=>{const o=document.createElement("img");o.src="/dist/Images/Rain.png",o.classList.add("box-image"),e.appendChild(o),console.log(t)})):"Clouds"===t[0].description&&i.forEach(((e,t)=>{const o=document.createElement("img");o.src="/dist/Images/Clouds.png",o.classList.add("box-image"),e.appendChild(o),console.log(t)}))})(l,p),console.log(r),console.log(m)})(e.value)}))})();